sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","com/zeffortcalculator/model/models","sap/ui/model/json/JSONModel","./controller/ErrorHandler"],function(e,t,s,a,o){"use strict";return e.extend("com.zeffortcalculator.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"],manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this._oErrorHandler=new o(this);this.getRouter().initialize();this.setModel(s.createDeviceModel(),"device");let t=new a;t.setData({loggedInUser:"",loggedInUserEmail:"",loggedInUserName:"",enableTableData:false,errors:false,showBaseLines:true,hoursOrMonth:"M"});this.setModel(t,"pgUiData");this.getModel().metadataLoaded().then(()=>{this.setModel(s.getEcInputModel(this.getModel()),"oModelEstCal");this.setModel(s.getEcBaseLineModel(this.getModel()),"oModelSelectedBaseLine");this.getModel().read("/zi_hcl_baseline",{success:e=>{let t=new a;t.setData(e.results);this.setModel(t,"oModelBaseLineDataSet")},error:e=>{console.log(e)}});this.getModel().read("/zi_hcl_labels",{success:e=>{this.setModel(s.getlabelsPageWise(e),"remotei18n")},error:e=>{console.log(e)}})});let i=new a;const n=this.getManifestObject()._oBaseUri._parts.path+"user-api/attributes";i.loadData(n);i.dataLoaded().then(()=>{this.getModel("pgUiData").setProperty("/loggedInUser",i.getData().hasOwnProperty("sub")?i.getData().sub[0]:"");this.getModel("pgUiData").setProperty("/loggedInUserEmail",i.getData().hasOwnProperty("email")?i.getData().email:"");this.getModel("pgUiData").setProperty("/loggedInUserName",i.getData().firstname+" "+i.getData().lastname)}).catch(()=>{})},destroy:function(){this._oErrorHandler.destroy();e.prototype.destroy.apply(this,arguments)},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!t.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass}})});
//# sourceMappingURL=Component.js.map